{"version":3,"file":"cloudfront-Bmv_jd_f.js","sources":["../../../.svelte-kit/adapter-node/chunks/cloudfront.js"],"sourcesContent":["import { CloudFrontClient, CreateInvalidationCommand } from \"@aws-sdk/client-cloudfront\";\nconst cf = new CloudFrontClient({\n  region: process.env.AWS_REGION || \"us-east-1\"\n});\nconst DISTRIBUTION_ID = process.env.CLOUDFRONT_DISTRIBUTION_ID;\nasync function invalidateCloudFrontCache(paths) {\n  if (!DISTRIBUTION_ID) {\n    console.warn(\"CloudFront distribution ID not configured\");\n    return;\n  }\n  try {\n    const command = new CreateInvalidationCommand({\n      DistributionId: DISTRIBUTION_ID,\n      InvalidationBatch: {\n        CallerReference: `invalidation-${Date.now()}`,\n        Paths: {\n          Quantity: paths.length,\n          Items: paths\n        }\n      }\n    });\n    const response = await cf.send(command);\n    console.log(`[CloudFront] Invalidated paths:`, paths);\n    return response.Invalidation;\n  } catch (error) {\n    console.error(\"CloudFront invalidation failed:\", error);\n    throw error;\n  }\n}\nasync function invalidatePage(pageKey) {\n  return invalidateCloudFrontCache([`/${pageKey}`, `/${pageKey}/`]);\n}\nexport {\n  invalidatePage as i\n};\n"],"names":[],"mappings":";;AACA,MAAM,EAAE,GAAG,IAAI,gBAAgB,CAAC;AAChC,EAAE,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI;AACpC,CAAC,CAAC;AACF,MAAM,eAAe,GAAG,OAAO,CAAC,GAAG,CAAC,0BAA0B;AAC9D,eAAe,yBAAyB,CAAC,KAAK,EAAE;AAChD,EAAE,IAAI,CAAC,eAAe,EAAE;AACxB,IAAI,OAAO,CAAC,IAAI,CAAC,2CAA2C,CAAC;AAC7D,IAAI;AACJ,EAAE;AACF,EAAE,IAAI;AACN,IAAI,MAAM,OAAO,GAAG,IAAI,yBAAyB,CAAC;AAClD,MAAM,cAAc,EAAE,eAAe;AACrC,MAAM,iBAAiB,EAAE;AACzB,QAAQ,eAAe,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACrD,QAAQ,KAAK,EAAE;AACf,UAAU,QAAQ,EAAE,KAAK,CAAC,MAAM;AAChC,UAAU,KAAK,EAAE;AACjB;AACA;AACA,KAAK,CAAC;AACN,IAAI,MAAM,QAAQ,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC;AAC3C,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,+BAA+B,CAAC,EAAE,KAAK,CAAC;AACzD,IAAI,OAAO,QAAQ,CAAC,YAAY;AAChC,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC;AAC3D,IAAI,MAAM,KAAK;AACf,EAAE;AACF;AACA,eAAe,cAAc,CAAC,OAAO,EAAE;AACvC,EAAE,OAAO,yBAAyB,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACnE;;;;"}