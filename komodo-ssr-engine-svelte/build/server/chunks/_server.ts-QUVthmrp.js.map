{"version":3,"file":"_server.ts-QUVthmrp.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/v1/products/_id_/_server.ts.js"],"sourcesContent":["import { error, json, isHttpError } from \"@sveltejs/kit\";\nimport { g as getPageContentFromS3 } from \"../../../../../../chunks/s3.js\";\nimport { l as logger } from \"../../../../../../chunks/index.js\";\nasync function GET({ params }) {\n  try {\n    const product = await getPageContentFromS3(`product-${params.id}`);\n    if (!product) throw error(404, `Product ${params.id} not found`);\n    return json(product);\n  } catch (err) {\n    if (isHttpError(err)) {\n      logger.error(err?.body?.message);\n      throw err;\n    }\n    logger.error(\"Failed to fetch product\");\n    throw error(500, \"Failed to fetch product\");\n  }\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;AAGA,eAAe,GAAG,CAAC,EAAE,MAAM,EAAE,EAAE;AAC/B,EAAE,IAAI;AACN,IAAI,MAAM,OAAO,GAAG,MAAM,oBAAoB,CAAC,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;AACtE,IAAI,IAAI,CAAC,OAAO,EAAE,MAAM,KAAK,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;AACpE,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC;AACxB,EAAE,CAAC,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,IAAI,WAAW,CAAC,GAAG,CAAC,EAAE;AAC1B,MAAM,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC;AACtC,MAAM,MAAM,GAAG;AACf,IAAI;AACJ,IAAI,MAAM,CAAC,KAAK,CAAC,yBAAyB,CAAC;AAC3C,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,yBAAyB,CAAC;AAC/C,EAAE;AACF;;;;"}