{"version":3,"file":"_server.ts-C39N6Xy_.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/health/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { S3Client, HeadBucketCommand } from \"@aws-sdk/client-s3\";\nasync function GET() {\n  const checks = {\n    status: \"ok\",\n    timestamp: (/* @__PURE__ */ new Date()).toISOString(),\n    s3: \"unknown\"\n  };\n  try {\n    await new S3Client({ region: process.env.AWS_REGION }).send(new HeadBucketCommand({ Bucket: process.env.S3_CONTENT_BUCKET }));\n    checks.s3 = \"ok\";\n  } catch {\n    checks.s3 = \"error\";\n    checks.status = \"degraded\";\n  }\n  return json(checks, { status: checks.status === \"ok\" ? 200 : 503 });\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;AAEA,eAAe,GAAG,GAAG;AACrB,EAAE,MAAM,MAAM,GAAG;AACjB,IAAI,MAAM,EAAE,IAAI;AAChB,IAAI,SAAS,EAAE,iBAAiB,IAAI,IAAI,EAAE,EAAE,WAAW,EAAE;AACzD,IAAI,EAAE,EAAE;AACR,GAAG;AACH,EAAE,IAAI;AACN,IAAI,MAAM,IAAI,QAAQ,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,iBAAiB,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,CAAC,CAAC;AACjI,IAAI,MAAM,CAAC,EAAE,GAAG,IAAI;AACpB,EAAE,CAAC,CAAC,MAAM;AACV,IAAI,MAAM,CAAC,EAAE,GAAG,OAAO;AACvB,IAAI,MAAM,CAAC,MAAM,GAAG,UAAU;AAC9B,EAAE;AACF,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;AACrE;;;;"}